<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        //클로저 라는 개념을 몰라도. 일단 사용하는데 큰 문제 없음
        //렉시컬스코프 - 함수가 선언된 위치에 따라서 변수참조가 달라진다.

        //1st

        // var a = 1;
        // function func1() {
        //     a = 10;
        //     console.log(a); //10
        // }
        // func1();
       
        // var b = 1;
        
        // function func1() {
        //     var b = 100;
        //     func2();
        // }

        // function func2() {
        //     console.log(b); // 1
        // }

        // func1();

        /////////////////////////////////////////////
        //3nd

        // var c = 1;
        // function func1() {
            
        //     var c = 100;
            
        //     func2();
        //     function func2() {
        //         console.log(c); // 100; 함수 선언 위치에 따라 참조하는 변수가 달라진다.
        //     }
        
        // }

        // func1();

        ////////////////////////////////////////////////////////////////////////////
        //클로저를 사용해서 a변수를 함수 밖에서 사용할 수 있도록 함
        //클로저는 내부에 선언된함수를 이용해서 외부함수 바깥에서 접근할 수 있는 환경을 만들어준다.
        //getter , setter

        function aaa() {
            var a = 1;

            // var x  = function() {
            //     return a;
            // }
            // return x;

            return function() {
                return a;
            }

        } // a의 사용범위는 여기서 끝

        var f = aaa();
        console.log( f() );
        // console.log(f)

        ///////////////////////////////////////////////////////////////////////////

        // function bbb() {
        //     var count = 0;

        //     return ++count;
        // }

        // console.log( bbb()); // 1
        // console.log( bbb()); // 1 

        function bbb() {
            
            var count = 0; //private 변수
            
            return function(){
                return ++count;
            }
        }

        var ff = bbb();
        console.log(ff());
        console.log(ff());

    
    </script>
</body>
</html>